## 项目介绍

yggjs_rlogin 是一个专为 React 登录页面打造的轻量组件库，内置 LoginForm、LoginPage 以及专业的表单校验工具与规则体系，开箱即用、可扩展、可替换。

## 校验规则介绍

提供 valid.ts 校验工具，包含：
- 基础判断函数：isEmail、isUsername、isPassword、isCaptcha
- 规则类型 Rule（对标 antd 的 rules 模型）：
  - required, min, max, len, pattern, type（email/username/password/captcha）
  - message：失败提示
  - validator(value)：自定义校验器，支持异步
- validateRules(value, rules)：串行执行规则，返回首个错误消息，若通过返回 undefined

## 特色
- 与 antd 风格一致，迁移成本低
- 内置常用规则工厂，可即取即用
- 支持异步自定义校验器，满足后端校验场景
- 与 LoginForm 无缝结合，可灵活替换默认规则

## 内置校验规则
- required(message?)
- minLen(min, message?)
- maxLen(max, message?)
- length(len, message?)
- patternRule(regexp, message?)
- emailRule(message?)
- usernameRule(message?)
- passwordRule(message?)
- captchaRule(message?)
- customRule(validator, message?)

## 使用示例（在 LoginForm 中）

```tsx
import { LoginForm, usernameRule, passwordRule, required, minLen } from 'yggjs_rlogin'

<LoginForm
  usernameRules={[required('请输入账号'), usernameRule('账号长度需为 3-36 个字符')]}
  passwordRules={[required('请输入密码'), passwordRule('密码长度需为 6-36 个字符'), minLen(8, '至少 8 位')]}
  onSubmit={({ username, password }) => { /* 登录 */ }}
/>
```

## 自定义校验规则

```tsx
import { LoginForm, customRule } from 'yggjs_rlogin'

const notAdmin = customRule((v) => (v.toLowerCase() === 'admin' ? '不能使用 admin 作为用户名' : true))

<LoginForm
  usernameRules={[notAdmin]}
  onSubmit={({ username, password }) => { /* 登录 */ }}
/>
```

也可以异步：

```tsx
const checkRemote = customRule(async (v) => {
  const ok = await fetch(`/api/check?u=${encodeURIComponent(v)}`).then(r => r.ok)
  return ok ? true : '用户名不可用'
})
```

## 使用示例（独立使用 validateRules）

```ts
import { validateRules, required, emailRule } from 'yggjs_rlogin'

const err = await validateRules('test@example.com', [required(), emailRule()])
if (err) {
  // 处理错误
}
```

## 总结
- 提供了对标 antd 的 rules 校验体系与内置规则
- 既可独立使用，也可与 LoginForm 无缝集成
- 支持同步/异步、模式/类型/长度等常见校验场景，满足登录表单的工业化需求

