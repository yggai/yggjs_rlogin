# yggjs_rlogin 使用教程 v0.1.0

## 项目介绍

**yggjs_rlogin** 是一个专为 React 登录页面开发打造的轻量级组件库。它提供了开箱即用的登录表单组件，内置了美观的默认样式，支持 TypeScript，并且具有灵活的配置选项。

### 核心理念

- **开箱即用**：无需复杂配置，引入即可使用
- **轻量设计**：专注登录场景，避免功能冗余
- **类型安全**：完整的 TypeScript 类型定义
- **样式友好**：提供默认样式，支持自定义覆盖
- **现代化**：支持 ESM/CJS 双构建，兼容主流构建工具

### 技术栈

- **React**: 18+ 或 19+
- **TypeScript**: 完整类型支持
- **构建工具**: tsup (基于 esbuild)
- **样式**: 原生 CSS，BEM 命名规范
- **测试**: Vitest + Testing Library

## 特色

### 🚀 即插即用
无需复杂的配置文件或初始化步骤，安装后直接引入组件即可使用。

### 🎨 精美默认样式
内置现代化的登录表单样式，采用圆角设计、阴影效果和渐变色彩，开箱即用。

### 🔧 灵活的校验规则
提供强大的表单校验系统，支持：
- 内置校验规则（用户名、密码、邮箱等）
- 自定义校验规则
- 异步校验支持
- 链式规则组合

### 👁️ 密码可见性切换
内置密码显示/隐藏功能，提供直观的眼睛图标切换按钮。

### ♿ 无障碍支持
遵循 WCAG 标准，提供完整的无障碍访问支持：
- 语义化 HTML 结构
- ARIA 属性支持
- 键盘导航友好
- 屏幕阅读器兼容

### 📱 响应式设计
自适应不同屏幕尺寸，在桌面端和移动端都有良好的显示效果。

### 🎯 TypeScript 原生支持
完整的类型定义，提供优秀的开发体验和代码提示。

## 使用示例

### 安装

```bash
# 使用 pnpm（推荐）
pnpm add yggjs_rlogin react react-dom

# 使用 npm
npm install yggjs_rlogin react react-dom

# 使用 yarn
yarn add yggjs_rlogin react react-dom
```

### 基础用法

最简单的使用方式，只需引入组件和样式：

```tsx
import React from 'react'
import { LoginForm } from 'yggjs_rlogin'
import 'yggjs_rlogin/styles.css'

export default function LoginPage() {
  return (
    <div style={{ 
      display: 'grid', 
      placeItems: 'center', 
      minHeight: '100vh',
      background: '#f5f7fb' 
    }}>
      <LoginForm
        title="用户登录"
        onSubmit={async ({ username, password }) => {
          // 这里调用你的登录 API
          console.log('登录信息:', { username, password })
          
          // 模拟 API 调用
          await new Promise(resolve => setTimeout(resolve, 1000))
          
          // 登录成功后的处理
          alert('登录成功！')
        }}
      />
    </div>
  )
}
```

### 自定义文案

可以自定义表单中的各种文案：

```tsx
<LoginForm
  title="系统管理后台"
  usernameLabel="用户名"
  passwordLabel="登录密码"
  submitLabel="立即登录"
  onSubmit={handleLogin}
/>
```

### 高级校验规则

使用内置的校验规则系统，实现复杂的表单验证：

```tsx
import { 
  LoginForm, 
  required, 
  usernameRule, 
  passwordRule, 
  minLen,
  customRule,
  isEmail 
} from 'yggjs_rlogin'

export default function AdvancedLogin() {
  // 用户名校验规则
  const usernameRules = [
    required('请输入用户名'),
    usernameRule('用户名长度需为 3-36 个字符'),
    customRule((value) => {
      // 自定义规则：不允许使用邮箱作为用户名
      return isEmail(value) ? '用户名不能是邮箱格式' : true
    })
  ]

  // 密码校验规则
  const passwordRules = [
    required('请输入密码'),
    passwordRule('密码长度需为 6-36 个字符'),
    minLen(8, '密码至少需要 8 位字符'),
    customRule(async (value) => {
      // 异步校验示例：检查密码强度
      if (!/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(value)) {
        return '密码必须包含大小写字母和数字'
      }
      return true
    })
  ]

  return (
    <LoginForm
      title="高级校验示例"
      usernameRules={usernameRules}
      passwordRules={passwordRules}
      onSubmit={async ({ username, password }) => {
        // 处理登录逻辑
        try {
          const response = await fetch('/api/login', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ username, password })
          })
          
          if (response.ok) {
            const data = await response.json()
            localStorage.setItem('token', data.token)
            window.location.href = '/dashboard'
          } else {
            alert('登录失败，请检查用户名和密码')
          }
        } catch (error) {
          console.error('登录错误:', error)
          alert('网络错误，请稍后重试')
        }
      }}
    />
  )
}
```

### 全屏登录页面

使用 `LoginPage` 组件创建全屏登录页面：

```tsx
import { LoginPage } from 'yggjs_rlogin'
import 'yggjs_rlogin/styles.css'

export default function FullScreenLogin() {
  return (
    <LoginPage
      title="企业管理系统"
      onLogin={async ({ username, password }) => {
        // 登录处理逻辑
        await handleLogin(username, password)
      }}
    />
  )
}
```

### 自定义样式

#### 方式一：CSS 变量覆盖

```css
/* 在你的全局样式文件中 */
.yggjs-rlogin-form {
  --primary-color: #10b981;
  --border-radius: 16px;
  --shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
}

.yggjs-rlogin-button {
  background: var(--primary-color, #6366f1);
  border-radius: var(--border-radius, 8px);
}
```

#### 方式二：类名覆盖

```css
/* 自定义登录表单样式 */
.my-custom-login .yggjs-rlogin-form {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  border: none;
  color: white;
}

.my-custom-login .yggjs-rlogin-title {
  color: white;
  font-size: 24px;
}

.my-custom-login .yggjs-rlogin-input {
  background: rgba(255, 255, 255, 0.9);
  border: none;
}

.my-custom-login .yggjs-rlogin-button {
  background: rgba(255, 255, 255, 0.2);
  border: 1px solid rgba(255, 255, 255, 0.3);
  color: white;
}
```

```tsx
<LoginForm
  className="my-custom-login"
  title="自定义样式登录"
  onSubmit={handleLogin}
/>
```

### 与路由集成

#### React Router 示例

```tsx
import { useNavigate } from 'react-router-dom'
import { LoginForm } from 'yggjs_rlogin'

export default function LoginRoute() {
  const navigate = useNavigate()

  return (
    <LoginForm
      title="用户登录"
      onSubmit={async ({ username, password }) => {
        try {
          const success = await loginAPI(username, password)
          if (success) {
            navigate('/dashboard')
          }
        } catch (error) {
          console.error('登录失败:', error)
        }
      }}
    />
  )
}
```

#### Next.js 示例

```tsx
// pages/login.tsx 或 app/login/page.tsx
import { useRouter } from 'next/router' // 或 'next/navigation'
import { LoginForm } from 'yggjs_rlogin'
import 'yggjs_rlogin/styles.css'

export default function Login() {
  const router = useRouter()

  return (
    <div className="login-container">
      <LoginForm
        title="Next.js 登录"
        onSubmit={async ({ username, password }) => {
          const res = await fetch('/api/auth/login', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ username, password })
          })

          if (res.ok) {
            router.push('/dashboard')
          } else {
            alert('登录失败')
          }
        }}
      />
    </div>
  )
}
```

## 总结

**yggjs_rlogin** 是一个功能完整、易于使用的 React 登录组件库。它的主要优势包括：

### 开发效率
- 零配置开箱即用，大幅减少开发时间
- 完整的 TypeScript 支持，提供优秀的开发体验
- 丰富的内置校验规则，覆盖常见验证场景

### 用户体验
- 现代化的 UI 设计，符合当前审美趋势
- 完整的无障碍支持，确保所有用户都能正常使用
- 响应式设计，在各种设备上都有良好表现

### 技术特性
- 轻量级设计，不会增加过多的包体积
- 灵活的样式系统，支持深度自定义
- 现代化的构建输出，兼容各种项目环境

### 适用场景
- **企业后台管理系统**：提供专业的登录界面
- **SaaS 产品**：快速搭建用户认证页面
- **个人项目**：无需从零开始设计登录表单
- **原型开发**：快速验证产品概念

无论你是在开发大型企业应用还是个人项目，yggjs_rlogin 都能帮助你快速构建出专业、美观、易用的登录界面。通过其灵活的配置选项和强大的校验系统，你可以轻松满足各种复杂的业务需求。

立即开始使用 yggjs_rlogin，让登录页面开发变得简单高效！
