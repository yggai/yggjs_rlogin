# ç£¨ç ‚ç»ç’ƒç™»å½•é¡µé¢ä½¿ç”¨æ•™ç¨‹ v0.1.1

## é¡¹ç›®ä»‹ç»

**yggjs_rlogin** æ˜¯ä¸€ä¸ªä¸“ä¸º React ç™»å½•é¡µé¢å¼€å‘æ‰“é€ çš„è½»é‡çº§ç»„ä»¶åº“ã€‚æœ¬æ–‡æ¡£å°†è¯¦ç»†ä»‹ç»å…¶ä¸­çš„ç£¨ç ‚ç»ç’ƒç™»å½•é¡µé¢ç»„ä»¶ `GlassLoginPage`ï¼Œè¿™æ˜¯ä¸€ä¸ªå…·æœ‰ iOS 17 è´¨æ„Ÿçš„ç°ä»£åŒ–ç™»å½•ç•Œé¢ã€‚

### æ ¸å¿ƒç‰¹æ€§
- ğŸ¨ **ç£¨ç ‚ç»ç’ƒæ•ˆæœ**ï¼šåŠé€æ˜èƒŒæ™¯ + é«˜æ–¯æ¨¡ç³Š
- ğŸŒˆ **æå…‰æ¸å˜èƒŒæ™¯**ï¼šåŠ¨æ€å¤šå½©èƒŒæ™¯åŠ¨ç”»
- âœ¨ **iOS 17 è´¨æ„Ÿ**ï¼šç°ä»£åŒ–çš„è®¾è®¡è¯­è¨€
- ğŸ“± **å“åº”å¼è®¾è®¡**ï¼šå®Œç¾é€‚é…å„ç§å±å¹•å°ºå¯¸
- â™¿ **æ— éšœç¢æ”¯æŒ**ï¼šå®Œæ•´çš„ ARIA æ ‡ç­¾å’Œè¯­ä¹‰åŒ– HTML
- ğŸ”’ **è¡¨å•æ ¡éªŒ**ï¼šå†…ç½®ç”¨æˆ·åå’Œå¯†ç æ ¡éªŒç³»ç»Ÿ

## å®‰è£…è¯´æ˜

### ç¯å¢ƒè¦æ±‚
- React 18+ æˆ– 19+
- Node.js 16+
- æ”¯æŒç°ä»£ CSS ç‰¹æ€§çš„æµè§ˆå™¨ï¼ˆChrome 76+, Firefox 103+, Safari 9+ï¼‰

### å®‰è£…æ­¥éª¤

```bash
# ä½¿ç”¨ pnpmï¼ˆæ¨èï¼‰
pnpm add yggjs_rlogin react react-dom

# ä½¿ç”¨ npm
npm install yggjs_rlogin react react-dom

# ä½¿ç”¨ yarn
yarn add yggjs_rlogin react react-dom
```

### æµè§ˆå™¨å…¼å®¹æ€§
ç£¨ç ‚ç»ç’ƒæ•ˆæœä¾èµ– `backdrop-filter` CSS å±æ€§ï¼Œæ”¯æŒæƒ…å†µï¼š
- âœ… Chrome 76+
- âœ… Firefox 103+
- âœ… Safari 9+
- âœ… Edge 79+

## ç™»å½•é¡µé¢ä»‹ç»

yggjs_rlogin æä¾›äº†ä¸‰ç§ä¸åŒé£æ ¼çš„ç™»å½•é¡µé¢ç»„ä»¶ï¼š

1. **LoginPage** - ç§‘æŠ€é£ç™»å½•é¡µé¢ï¼Œå…·æœ‰éœ“è™¹æ•ˆæœå’ŒåŠ¨æ€èƒŒæ™¯
2. **MinimalLoginPage** - æç®€ç™½ç™»å½•é¡µé¢ï¼Œè‹¹æœå®˜ç½‘é£æ ¼
3. **GlassLoginPage** - ç£¨ç ‚ç»ç’ƒç™»å½•é¡µé¢ï¼ŒiOS 17 è´¨æ„Ÿï¼ˆæœ¬æ–‡æ¡£é‡ç‚¹ï¼‰

æ¯ç§ç™»å½•é¡µé¢éƒ½æœ‰å…¶ç‹¬ç‰¹çš„è®¾è®¡é£æ ¼å’Œé€‚ç”¨åœºæ™¯ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®é¡¹ç›®éœ€æ±‚é€‰æ‹©åˆé€‚çš„ç»„ä»¶ã€‚

## ç£¨ç ‚ç»ç’ƒç™»å½•é¡µé¢ä»‹ç»

`GlassLoginPage` æ˜¯ä¸€ä¸ªå…·æœ‰ç°ä»£æ„Ÿçš„ç™»å½•é¡µé¢ç»„ä»¶ï¼Œçµæ„Ÿæ¥æºäº iOS 17 çš„è®¾è®¡è¯­è¨€ã€‚å®ƒé‡‡ç”¨äº†ç£¨ç ‚ç»ç’ƒæ•ˆæœå’Œæå…‰æ¸å˜èƒŒæ™¯ï¼Œä¸ºç”¨æˆ·æä¾›æ²‰æµ¸å¼çš„ç™»å½•ä½“éªŒã€‚

### è®¾è®¡ç†å¿µ
- **æ²‰æµ¸å¼ä½“éªŒ**ï¼šå…¨å±æå…‰èƒŒæ™¯è¥é€ ç§‘å¹»æ°›å›´
- **è§†è§‰å±‚æ¬¡**ï¼šé€šè¿‡é€æ˜åº¦å’Œæ¨¡ç³Šæ•ˆæœå»ºç«‹æ¸…æ™°çš„è§†è§‰å±‚æ¬¡
- **ç°ä»£ç¾å­¦**ï¼šç¬¦åˆå½“å‰ä¸»æµçš„è®¾è®¡è¶‹åŠ¿
- **ç”¨æˆ·å‹å¥½**ï¼šä¿æŒåŠŸèƒ½æ€§çš„åŒæ—¶æå‡è§†è§‰ä½“éªŒ

### æŠ€æœ¯ç‰¹ç‚¹
- ä½¿ç”¨ `backdrop-filter: blur()` å®ç°ç£¨ç ‚ç»ç’ƒæ•ˆæœ
- CSS åŠ¨ç”»ä¼˜åŒ–ï¼Œä½¿ç”¨ `transform` å’Œ `opacity` ç¡®ä¿æµç•…æ€§èƒ½
- å“åº”å¼å¸ƒå±€ï¼Œé€‚é…æ¡Œé¢ç«¯å’Œç§»åŠ¨ç«¯
- å®Œæ•´çš„ TypeScript ç±»å‹å®šä¹‰

## ä½¿ç”¨ç¤ºä¾‹

### åŸºç¡€ç”¨æ³•

```tsx
import React from 'react'
import { GlassLoginPage } from 'yggjs_rlogin'

export default function App() {
  const handleLogin = async ({ username, password }) => {
    // å¤„ç†ç™»å½•é€»è¾‘
    console.log('ç™»å½•ä¿¡æ¯:', { username, password })
    
    // æ¨¡æ‹Ÿ API è°ƒç”¨
    await new Promise(resolve => setTimeout(resolve, 1000))
    
    // ç™»å½•æˆåŠŸå¤„ç†
    alert('ç™»å½•æˆåŠŸï¼')
  }

  return (
    <GlassLoginPage
      title="Glass UI"
      onLogin={handleLogin}
    />
  )
}
```

### è‡ªå®šä¹‰ Logo

```tsx
const CustomLogo = () => (
  <div style={{ 
    textAlign: 'center',
    color: 'rgba(255, 255, 255, 0.95)',
    fontSize: '32px',
    fontWeight: '700',
    textShadow: '0 2px 10px rgba(0, 0, 0, 0.2)',
    letterSpacing: '-1px'
  }}>
    âœ¨ æˆ‘çš„åº”ç”¨
  </div>
)

<GlassLoginPage
  logo={<CustomLogo />}
  onLogin={handleLogin}
  usernameLabel="ç”¨æˆ·åæˆ–é‚®ç®±"
  passwordLabel="å¯†ç "
  submitLabel="ç™»å½•"
/>
```

### é«˜çº§æ ¡éªŒè§„åˆ™

```tsx
import { 
  GlassLoginPage, 
  required, 
  usernameRule, 
  passwordRule, 
  minLen,
  customRule 
} from 'yggjs_rlogin'

const usernameRules = [
  required('è¯·è¾“å…¥ç”¨æˆ·å'),
  usernameRule('ç”¨æˆ·åé•¿åº¦éœ€ä¸º 3-36 ä¸ªå­—ç¬¦'),
  customRule((value) => {
    if (value.includes('@') && !value.includes('.')) {
      return 'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®'
    }
    return true
  })
]

const passwordRules = [
  required('è¯·è¾“å…¥å¯†ç '),
  passwordRule('å¯†ç é•¿åº¦éœ€ä¸º 6-36 ä¸ªå­—ç¬¦'),
  minLen(8, 'å¯†ç è‡³å°‘éœ€è¦ 8 ä½å­—ç¬¦'),
  customRule((value) => {
    if (!/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(value)) {
      return 'å¯†ç å¿…é¡»åŒ…å«å¤§å°å†™å­—æ¯å’Œæ•°å­—'
    }
    return true
  })
]

<GlassLoginPage
  onLogin={handleLogin}
  usernameRules={usernameRules}
  passwordRules={passwordRules}
/>
```

## ä»£ç è§£é‡Š

### ç»„ä»¶ Props

```typescript
export type GlassLoginPageProps = {
  onLogin: (payload: { username: string; password: string }) => void | Promise<void>
  title?: string
  logo?: string | React.ReactNode
  usernameLabel?: string
  passwordLabel?: string
  submitLabel?: string
  usernameRules?: Rule[]
  passwordRules?: Rule[]
}
```

#### å‚æ•°è¯´æ˜

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `onLogin` | `Function` | - | **å¿…éœ€**ï¼Œç™»å½•å›è°ƒå‡½æ•° |
| `title` | `string` | `'ç™»å½•'` | é¡µé¢æ ‡é¢˜ |
| `logo` | `string \| ReactNode` | - | è‡ªå®šä¹‰ Logoï¼Œå¯ä»¥æ˜¯å›¾ç‰‡ URL æˆ– React ç»„ä»¶ |
| `usernameLabel` | `string` | `'ç”¨æˆ·å'` | ç”¨æˆ·åè¾“å…¥æ¡†å ä½ç¬¦ |
| `passwordLabel` | `string` | `'å¯†ç '` | å¯†ç è¾“å…¥æ¡†å ä½ç¬¦ |
| `submitLabel` | `string` | `'ç™»å½•'` | ç™»å½•æŒ‰é’®æ–‡æœ¬ |
| `usernameRules` | `Rule[]` | `[usernameRule()]` | ç”¨æˆ·åæ ¡éªŒè§„åˆ™ |
| `passwordRules` | `Rule[]` | `[passwordRule()]` | å¯†ç æ ¡éªŒè§„åˆ™ |

### æ ¸å¿ƒåŠŸèƒ½å®ç°

#### çŠ¶æ€ç®¡ç†
```tsx
const [username, setUsername] = React.useState('')
const [password, setPassword] = React.useState('')
const [showPassword, setShowPassword] = React.useState(false)
const [loading, setLoading] = React.useState(false)
const [errors, setErrors] = React.useState<{ username?: string; password?: string }>({})
```

#### è¡¨å•æ ¡éªŒ
```tsx
const handleSubmit = async (e: React.FormEvent) => {
  e.preventDefault()
  const errs: { username?: string; password?: string } = {}

  const uErr = await validateRules(username, usernameRules)
  if (uErr) errs.username = uErr

  const pErr = await validateRules(password, passwordRules)
  if (pErr) errs.password = pErr

  setErrors(errs)
  if (Object.keys(errs).length > 0) return

  // æ‰§è¡Œç™»å½•é€»è¾‘
  try {
    setLoading(true)
    await onLogin({ username, password })
  } finally {
    setLoading(false)
  }
}
```

## æ ·å¼è®¾è®¡ä»‹ç»

### ç£¨ç ‚ç»ç’ƒæ•ˆæœå®ç°

```css
.yggjs-glass-login-card {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 24px;
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.1),
    0 0 0 1px rgba(255, 255, 255, 0.05),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}
```

**å…³é”®æŠ€æœ¯ç‚¹ï¼š**
- `backdrop-filter: blur(20px)` - èƒŒæ™¯æ¨¡ç³Šæ•ˆæœ
- `rgba(255, 255, 255, 0.1)` - åŠé€æ˜ç™½è‰²èƒŒæ™¯
- å¤šå±‚ `box-shadow` - è¥é€ ç«‹ä½“æ„Ÿå’Œæ·±åº¦

### æå…‰æ¸å˜èƒŒæ™¯

```css
.yggjs-glass-login-page {
  background: 
    radial-gradient(ellipse at top left, rgba(255, 0, 150, 0.3) 0%, transparent 50%),
    radial-gradient(ellipse at top right, rgba(0, 150, 255, 0.3) 0%, transparent 50%),
    radial-gradient(ellipse at bottom left, rgba(150, 255, 0, 0.3) 0%, transparent 50%),
    radial-gradient(ellipse at bottom right, rgba(255, 150, 0, 0.3) 0%, transparent 50%),
    linear-gradient(135deg, #667eea 0%, #764ba2 25%, #f093fb 50%, #f5576c 75%, #4facfe 100%);
  animation: auroraShift 15s ease-in-out infinite;
}
```

**è®¾è®¡ç‰¹ç‚¹ï¼š**
- å››ä¸ªè§’è½çš„å¾„å‘æ¸å˜å…‰æ™•
- åº•å±‚çº¿æ€§æ¸å˜æä¾›åŸºç¡€è‰²å½©
- 15ç§’å¾ªç¯çš„åŠ¨ç”»æ•ˆæœ

### åŠ¨æ€ç²’å­æ•ˆæœ

```css
.yggjs-glass-login-page::before {
  background-image: 
    radial-gradient(circle at 20% 20%, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
    radial-gradient(circle at 80% 80%, rgba(255, 255, 255, 0.1) 1px, transparent 1px),
    radial-gradient(circle at 40% 60%, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
  background-size: 100px 100px, 150px 150px, 200px 200px;
  animation: particleFloat 20s linear infinite;
}
```

### äº¤äº’åŠ¨ç”»

```css
.yggjs-glass-login-input:focus {
  border-color: rgba(255, 255, 255, 0.4);
  background: rgba(255, 255, 255, 0.15);
  box-shadow: 
    0 0 0 3px rgba(255, 255, 255, 0.1),
    0 8px 25px rgba(0, 0, 0, 0.1);
  transform: translateY(-1px);
}
```

**äº¤äº’ç»†èŠ‚ï¼š**
- èšç„¦æ—¶çš„å¾®å¦™ä¸Šç§»æ•ˆæœ
- å‘å…‰è¾¹æ¡†å’Œé˜´å½±å˜åŒ–
- èƒŒæ™¯é€æ˜åº¦å¢åŠ 

## æ€»ç»“

ç£¨ç ‚ç»ç’ƒç™»å½•é¡µé¢ `GlassLoginPage` æ˜¯ yggjs_rlogin ç»„ä»¶åº“ä¸­çš„ä¸€ä¸ªäº®ç‚¹ç»„ä»¶ï¼Œå®ƒå®Œç¾ç»“åˆäº†ç°ä»£è®¾è®¡ç¾å­¦å’Œå®ç”¨åŠŸèƒ½ï¼š

### ä¼˜åŠ¿ç‰¹ç‚¹
1. **è§†è§‰å†²å‡»åŠ›å¼º**ï¼šæå…‰èƒŒæ™¯å’Œç£¨ç ‚ç»ç’ƒæ•ˆæœè¥é€ å‡ºè‰²çš„è§†è§‰ä½“éªŒ
2. **æŠ€æœ¯å®ç°å…ˆè¿›**ï¼šä½¿ç”¨æœ€æ–°çš„ CSS ç‰¹æ€§ï¼Œå±•ç°ç°ä»£å‰ç«¯æŠ€æœ¯
3. **ç”¨æˆ·ä½“éªŒä¼˜ç§€**ï¼šæµç•…çš„åŠ¨ç”»å’Œç›´è§‚çš„äº¤äº’è®¾è®¡
4. **ä»£ç è´¨é‡é«˜**ï¼šå®Œæ•´çš„ TypeScript æ”¯æŒå’Œæµ‹è¯•è¦†ç›–

### é€‚ç”¨åœºæ™¯
- **é«˜ç«¯äº§å“**ï¼šé€‚åˆéœ€è¦å±•ç°å“ç‰Œè°ƒæ€§çš„äº§å“
- **åˆ›æ„åº”ç”¨**ï¼šè®¾è®¡ç±»ã€å¨±ä¹ç±»åº”ç”¨çš„ç™»å½•é¡µé¢
- **ç§»åŠ¨åº”ç”¨**ï¼šç‰¹åˆ«é€‚åˆç§»åŠ¨ç«¯çš„æ²‰æµ¸å¼ä½“éªŒ
- **å±•ç¤ºé¡¹ç›®**ï¼šæŠ€æœ¯å±•ç¤ºå’Œæ¦‚å¿µéªŒè¯é¡¹ç›®

### æ€§èƒ½è€ƒè™‘
- ç£¨ç ‚ç»ç’ƒæ•ˆæœå¯èƒ½åœ¨ä½ç«¯è®¾å¤‡ä¸Šå½±å“æ€§èƒ½
- å»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è¿›è¡Œæ€§èƒ½æµ‹è¯•
- å¯ä»¥æ ¹æ®è®¾å¤‡æ€§èƒ½åŠ¨æ€å¯ç”¨/ç¦ç”¨æŸäº›åŠ¨ç”»æ•ˆæœ

é€šè¿‡ä½¿ç”¨ `GlassLoginPage`ï¼Œå¼€å‘è€…å¯ä»¥å¿«é€Ÿæ„å»ºå‡ºå…·æœ‰ç°ä»£æ„Ÿå’Œä¸“ä¸šæ€§çš„ç™»å½•ç•Œé¢ï¼Œä¸ºç”¨æˆ·æä¾›éš¾å¿˜çš„ç¬¬ä¸€å°è±¡ã€‚
